{% extends "base.html" %}

{% block title %}{{ article.title }} - AgriBalance{% endblock %}

{% block content %}
<div class="page-header">
    <a href="{{ url_for('news.news_list') }}" class="btn btn-outline">
        <i class="fas fa-arrow-left"></i> Back to News
    </a>
</div>

<div class="card">
    <span class="news-category">{{ article.category.title() if article.category else 'News' }}</span>
    
    <h1 class="mt-10">{{ article.title }}</h1>
    
    <p class="text-secondary mt-10">
        Published: {{ article.published_at.strftime('%d %B %Y') }}
        {% if article.source %} | Source: {{ article.source }}{% endif %}
    </p>
    
    {% if article.summary %}
    <div class="alert alert-info mt-20">
        <strong>Summary:</strong> {{ article.summary }}
    </div>
    {% endif %}
    
    <div class="mt-20" style="line-height: 1.8; white-space: pre-wrap;">
        {{ article.content }}
    </div>
</div>

{% if related %}
<div class="card mt-20">
    <h3 class="card-title mb-20">Related Articles</h3>
    <div class="grid-3">
        {% for article in related %}
        <div class="news-card">
            <div class="news-content">
                <span class="news-category">{{ article.category or 'News' }}</span>
                <h4 class="news-title">{{ article.title }}</h4>
                <p class="news-date">{{ article.published_at.strftime('%d %b %Y') }}</p>
                <a href="{{ url_for('news.view_article', article_id=article.id) }}" class="btn btn-outline btn-block mt-10">
                    Read
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}
