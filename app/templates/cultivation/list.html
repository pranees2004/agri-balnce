{% extends "base.html" %}

{% block title %}My Cultivations - AgriBalance{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">My Cultivations</h1>
    <a href="{{ url_for('cultivation.start_cultivation') }}" class="btn btn-primary">
        <i class="fas fa-plus"></i> Start New Cultivation
    </a>
</div>

{% if cultivations %}
<div class="grid-3">
    {% for cultivation in cultivations %}
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">{{ cultivation.crop_name }}</h3>
            <span class="badge badge-{{ 'success' if cultivation.status == 'harvested' else 'warning' if cultivation.status == 'active' else 'error' if cultivation.status == 'failed' else 'info' }}">
                {{ cultivation.status.title() }}
            </span>
        </div>
        
        <div class="list-item mb-0">
            <span>Land</span>
            <strong>{{ cultivation.land.name }}</strong>
        </div>
        
        {% if cultivation.variety %}
        <div class="list-item mb-0">
            <span>Variety</span>
            <strong>{{ cultivation.variety }}</strong>
        </div>
        {% endif %}
        
        {% if cultivation.planting_date %}
        <div class="list-item mb-0">
            <span>Planted</span>
            <strong>{{ cultivation.planting_date.strftime('%d %b %Y') }}</strong>
        </div>
        {% endif %}
        
        {% if cultivation.expected_harvest_date %}
        <div class="list-item mb-0">
            <span>Expected Harvest</span>
            <strong>{{ cultivation.expected_harvest_date.strftime('%d %b %Y') }}</strong>
        </div>
        {% endif %}
        
        <div class="mt-20">
            <a href="{{ url_for('cultivation.view_cultivation', cultivation_id=cultivation.id) }}" class="btn btn-outline btn-block">
                View Details
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <div class="empty-state">
        <i class="fas fa-seedling"></i>
        <h3>No cultivations yet</h3>
        <p>Start your first cultivation with AI-powered recommendations</p>
        <a href="{{ url_for('cultivation.start_cultivation') }}" class="btn btn-primary btn-large mt-20">
            <i class="fas fa-plus"></i> Start First Cultivation
        </a>
    </div>
</div>
{% endif %}
{% endblock %}
